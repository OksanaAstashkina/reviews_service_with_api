# API для сервиса отзывов на произведения

## Описание и функционал сервиса
Данный проект предоставляет собой RESTful API для сервиса сбора отзывов пользователей на произведения различных категорий. Сами произведения на сервисе не хранятся, здесь нельзя посмотреть фильм или послушать музыку. Каждое произведение может быть оценено пользователями и имеет список отзывов.
Произведения делятся на категории, такие как «Книги», «Фильмы», «Музыка». Произведению может быть присвоен жанр из списка предустановленных. Добавлять произведения, категории и жанры может только администратор.
Пользователи могут оставлять отзывы на произведения, оценивать их (в диапазоне от 1 до 10) и обсуждать отзывы в комментариях. Из оценок формируется усреднённая оценка произведения — рейтинг. На одно произведение пользователь может оставить только один отзыв.
Добавлять отзывы, комментарии и ставить оценки могут только аутентифицированные пользователи.

### _Пользовательские роли и права доступа_:
* Аноним — может просматривать описания произведений, читать отзывы и комментарии.
* Аутентифицированный пользователь (user) — может читать всё, как и Аноним, публиковать отзывы и ставить оценки произведениям, комментировать отзывы, редактировать и удалять свои отзывы и комментарии, редактировать свои оценки произведений. Роль по умолчанию.
* Модератор (moderator) — те же права, что и у Аутентифицированного пользователя, плюс право удалять и редактировать любые отзывы и комментарии.
* Администратор (admin) — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.
* Суперюзер Django - обладает правами Администратора.

### _Ресурсы API_:
* auth: аутентификация.
* users: пользователи.
* titles: произведения и информация о них.
* categories: категории произведений.
* genres: жанры произведений. Одно произведение может иметь несколько жанров
* reviews: отзывы на произведения. Каждый отзыв относится к определенному произведению.
* comments: комментарии к отзывам на произведения.

## Технологии
* Python
* Django
* Django REST Framework (DRF)
* djangorestframework-simplejwt

## Установка из репозитория GitHub и запуск проекта в dev-режиме на локальном компьютере
__Клонируем репозиторий себе на компьютер__: 
```
git clone git@github.com:OksanaAstashkina/api_for_reviews_service.git
```

__Переходим в директорию с клонированным репозиторием__:
```
cd api_for_reviews_service
```

__Разворачиваем в репозитории виртуальное окружение__:
```
python -m venv venv (для Linux и MacOS: python3 -m venv venv)
```

__Активируем виртуальное окружение__:
```
source venv/Scripts/activate (для Linux и MacOS: source venv/bin/activate)
```

__Устанавливаем зависимости__:
```
pip install -r requirements.txt
```

__В папке с файлом manage.py выполните миграции__:
```
python manage.py migrate (для Linux и MacOS: python3 manage.py migrate)
```

__Запустите проект в dev-режиме__:
```
python manage.py runserver (для Linux и MacOS: python3 manage.py runserver)
```

__Откройте старинцу API в браузере__:
```
http://127.0.0.1:8000/api/
```

__Документация API доступна по адресу__:
```
http://127.0.0.1:8000/redoc/
```

__Admin-панель сайта доступна по адресу__:
```
http://127.0.0.1:8000/admin/
```

Для доступа к администрированию сайта необходимо создать супервользователя; для этого в папке с файлом manage.py выполните команду:
```
python manage.py createsuperuser
```

Для импорта в Datebase данных csv-файлов статики используйте команду:
```
python manage.py import_db_csv
```


## Документация

Полная документация API доступна по адресу `http://127.0.0.1:8000/redoc/`.
Также файл с документацией находится по адресу `.../api_yamdb/static/redoc.yaml`.
Здесь вы можете ознакомиться со всеми возможными запросами и параметрами, которые поддерживает API.


Работа с API для неавторизованных пользователей

Для неавторизованных пользователей API доступно только для чтения. Ниже приведены некоторые примеры запросов, которые могут быть выполнены:


  Получение списка всех категорий:


    `GET /api/v1/categories/`

***
## *Комманда разработки*

Оксана Асташкина [GitHub](https://github.com/OksanaAstashkina) @OksanaAstashkina (тимлид) - Categories/Genres/Titles (категории, жанры и произведения: модели, view и эндпойнты; импорт данных в базу данных из .csv файлов.

Владислав Бычков [GitHub](https://github.com/DoctorWD041) @DoctorWD041 (разработчик) - Auth/Users (регистрация, подтверждение по e-mail, получение JWT-токена и управление пользователями. Права доступа.

Вячеслав Козлов [GitHub](https://github.com/Vyacheslav63) @Vyacheslav63 (разработчик) - Review/Comments отзывы и комментарии: модели, view и эндпойнты. Рейтинги произведений.

### *Дата создания*
Май, 2023 г.
